version: 1.0.0_0
name: MNE-Python           # [not osx]
# macOS .pkg installation target directory defaults to /Applications/$NAME,
# so let's include the version number in this path
name: MNE-Python_1.0.0_0  # [osx]

company: MNE-Python Developers

license_file: ../../assets/license.txt         # [linux]
license_file: ../../assets/license.rtf         # [not linux]
welcome_image: ../../assets/welcome_macOS.png  # [osx]
welcome_image: ../../assets/welcome.png        # [not osx]
header_image: ../../assets/header.png
icon_image: ../../assets/icon.png
welcome_file: ../../assets/welcome.rtf
readme_text: ""
conclusion_file: ../../assets/conclusion.rtf

initialize_by_default: False
register_python_default: False

# default_prefix will be ignored by macOS .pkg installer!
default_prefix: ${HOME}/mne-python/1.0.0_0                          # [unix]
default_prefix: "%USERPROFILE%\\mne-python\\1.0.0_0"                # [win]
default_prefix_domain_user: "%LOCALAPPDATA%\\mne-python\\1.0.0_0"   # [win]
default_prefix_all_users: "%ALLUSERSPROFILE%\\mne-python\\1.0.0_0"  # [win]

uninstall_name: MNE-Python ${VERSION} (Python ${PYVERSION})

installer_filename: MNE-Python-1.0.0_0-macOS_Intel.pkg  # [osx]
installer_filename: MNE-Python-1.0.0_0-Windows.exe      # [win]
installer_filename: MNE-Python-1.0.0_0-Linux.sh         # [linux]

post_install: ../../assets/post_install_macOS.sh        # [osx]
post_install: ../../assets/post_install_linux.sh        # [linux]
post_install: ../../assets/post_install_windows.bat     # [win]

# Create signed macOS .pkg installer
installer_type: pkg                     # [osx]
signing_identity_name: 9779L28NP8       # [osx]  Used for productsign
notarization_identity_name: 9779L28NP8  # [osx]  Used for codesign
reverse_domain_identifier: tools.mne    # [osx]  Used for productbuild --identifier $reverse_domain_identifier.$name

# Only create menus for mne-installer-menus
menu_packages:
  - mne-installer-menus

channels:
  - conda-forge/label/mne_dev
  - conda-forge/label/mne-bids_dev
  - conda-forge

specs:
  # MNE ecosystem

  # TODO: ⛔️ ⛔️ ⛔️ DEV BUILDS START: CHANGE BEFORE RELEASE! ⛔️ ⛔️ ⛔️
  - mne-base =1.0*=*20220308
  - mne-installer-menus =1.0*=*20220308
  - mne-bids =0.10*=*20220213
  # TODO: ⛔️ ⛔️ ⛔️ DEV BUILDS STOP: CHANGE BEFORE RELEASE! ⛔️ ⛔️ ⛔️

  - mne-connectivity =0.3
  - mne-faster =1.1
  - mne-nirs =0.2
  - mne-realtime =0.1
  - mne-features =0.2
  - mne-rsa =0.6
  - mne-microstates =0.3
  - mne-ari =0.1
  - autoreject =0.3
  # Python
  - python =3.10
  - pip
  - conda
  - mamba
  - jupyter
  - jupyterlab
  - ipykernel
  - nb_conda_kernels
  - spyder-kernels
  - spyder
  - ipympl
  - darkdetect
  - qdarkstyle
  # Excel I/O
  - openpyxl
  - xlrd
  # Statistics
  - pingouin
  - pycircstat
  # MRI
  - fsleyes
  - dcm2niix
  # Time-frequency analysis
  - pactools
  - tensorpac
  - emd
  - neurodsp
  - bycycle
  - fooof
  # MNE-BIDS-Pipeline
  # try to keep this in sync with https://github.com/mne-tools/mne-bids-pipeline/blob/main/requirements.txt
  # note that many dependencies listed there are redundant and need not be explicitly listed here
  - coloredlogs
  - json_tricks
  - fire
  - dask
  - distributed
  # OpenNeuro.org data access
  - openneuro-py
  # NeuroSpin needs the following
  - questionary
  # Copy-paste from mne-feedstock:dev meta.yml that do not show up above
  # https://github.com/conda-forge/mne-feedstock/blob/59978fd907c3ee7f23dd743598766f282bf744a7/recipe/meta.yaml#L56-L85
  - matplotlib >=3.1.0
  - h5io
  - pymatreader
  - h5py
  # dipy
  - nibabel
  - nilearn
  - pandas >=0.23.4
  - scikit-learn >=0.20.2
  - python-picard
  - numba
  - vtk >=9.0.1
  - pyvista >=0.32
  - pyvistaqt >=0.4
  - statsmodels
  - numexpr
  - pyqt
  - pillow
  - joblib
  - psutil
  - mffpy >=0.5.7
  - imageio >=2.6.1
  - imageio-ffmpeg >=0.4.1
  - traitlets
  - mne-qt-browser
  - ipywidgets
  - ipyvtklink

condarc:
  channels:
    - conda-forge
  channel_priority: strict
  allow_other_channels: False
  env_prompt: "(mne-1.0.0_0) "
